<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>tab选项卡面向对象</title>
	<style type="text/css">
		.newtab{
			width:220px;
		}
		.newtab .triggers{
			display:block;
			float: left;
			width:70px;
			height:35px;
			line-height:35px;
			text-align: center;
			border-bottom:1px solid #D3D7DC;
			cursor: pointer;
		}
		.newtab .ui-tab-active{
			border-radius: 3px;
			border-top:1px solid #D3D7DC;
			border-left:1px solid #D3D7DC;
			border-right:1px solid #D3D7DC;
			border-bottom:none;
		}
		.newtab .contents{
			float: left;
			width:220px;
			display:block;
			padding:5px; 
		}
	</style>
</head>
<body>
	<div class="newtab">
		<span class="triggers">tab1</span>
		<span class="triggers">tab2</span>
		<span class="triggers">tab3</span>
		<span class="contents">我的tab1的内容</span>
		<span class="contents">我的tab2的内容</span>
		<span class="contents">我的tab3的内容</span>
	</div>
	<script type="text/javascript">
	;(function () {

		var tab = function (option) {
			this.element       = document.querySelector(option.element);
			this.triggers      = document.querySelectorAll(option.triggers);
			this.contents      = document.querySelectorAll(option.contents);
			this.active        = option.activeTriggerClass;
			this.triggersClass = option.triggers.replace('.','');
			this.activeIndex = option.activeIndex || 0;
			this.triggerType = option.triggerType || 'onclick';
			this.onSwitch = option.onSwitch;
			// 初始化调用

			this.init();
		}

		tab.prototype = {

			// 初始化
			init : function () {
				var _this = this;
				this.methods(this.activeIndex, _this);
				this.bing(_this);
			},

			// 事件绑定
			bing : function (_this) {
				for (var i = 0; i < this.triggers.length; i++) {
					this.triggers[i].index = i;
					this.triggers[i].onclick = function () {
						_this.methods(this.index, _this);
					}
				} 
			},

			// 功能方法
			methods : function (activeIndex, _this) {
				for (var i = 0; i < _this.triggers.length; i++) {
					_this.triggers[i].className = this.triggersClass;
					_this.contents[i].style.display = 'none';
				} 
				_this.triggers[activeIndex].className = this.triggersClass + " " + this.active;
				_this.contents[activeIndex].style.display = 'block';
				if (this.onSwitch) {
					if(this.num) this.onSwitch(activeIndex, _this.triggers.length);
					this.num  = 1;
				} 
			},
		}

		var tab2 = new tab({
			element: '.newtab',
			triggers: '.triggers',
			contents: '.contents',
			activeIndex: 1,
			activeTriggerClass: 'ui-tab-active',
			triggerType : 'hover',
			onSwitch : function (index, count) {
				alert('当前是第'+ index + '个选项卡共有' + count + '个选项')
			}
		});

	})()

	</script>
</body>
</html>